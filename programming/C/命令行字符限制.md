# 命令行字符限制问题

## 问题背景
- windows 10 专业版 10.0.18363
- powershell 5.1.18362.1474
- 使用NXP S32DS 工具链编译elf文件

之前正常工作的编译脚本，再增加一个Adc模块之后，编译发现不能正常生成elf文件。
```bash
APPO@ZRVFWW6B31LWD0V:/d/VScodeWorkSpace/SW32K3_RTD_4.4_2.0.1/A_EVB_dev/examples/EBT/A_EVB_dev_demo$ make build -j
Linking out/main.elf
d:/installedsoftware/mcu/nxp/s32ds.3.5/s32ds/build_tools/gcc_v10.2/gcc-10.2-arm32-eabi/bin/../lib/gcc/arm-none-eabi/10.2.0/../../../../arm-none-eabi/bin/real-ld.exe: cannot find ../../.: Permission denied
collect2.exe: error: ld returned 1 exit status
mingw32-make: *** [Makefile:280: out/main.elf] Error 1
```

起初以为是make没有访问权限，通过git代码回退，发现旧版本能正常编译elf文件。

取消makefile的回显限制后，查看对应的链接语句，如下：
```bash
APPO@ZRVFWW6B31LWD0V:/d/VScodeWorkSpace/SW32K3_RTD_4.4_2.0.1/A_EVB_dev/examples/EBT/A_EVB_dev_demo$ make build -j
Linking out/main.elf
D:/InstalledSoftware/MCU/NXP/S32DS.3.5/S32DS/build_tools/gcc_v10.2/gcc-10.2-arm32-eabi/bin/arm-none-eabi-gcc.exe -Wl,-Map,"out/main.map" --entry=Reset_Handler --sysroot="D:/InstalledSoftware/MCU/NXP/S32DS.3.5/S32DS/build_tools/gcc_v10.2/gcc-10.2-arm32-eabi/arm-none-eabi/lib"  -specs=nano.specs  -specs=nosys.specs -nostartfiles -mcpu=cortex-m7 -mthumb -mfpu=fpv5-sp-d16 -mfloat-abi=hard -ggdb3 -mlittle-endian -lc -lm -lgcc -T ../../../..//Platform_TS_T40D34M20I1R0/build_files/gcc/linker_flash_s32k312.ld src/main.o generate/src/Icu_Ipw_VS_0_PBcfg.o generate/src/Trgmux_Ip_VS_0_PBcfg.o generate/src/Flexio_Uart_Ip_VS_0_PBcfg.o generate/src/Adc_Ipw_VS_0_PBcfg.o generate/src/Dio_Cfg.o generate/src/Platform_Cfg.o generate/src/Port_Cfg.o generate/src/Power_Ip_Cfg.o generate/src/Icu_DmaNotification.o generate/src/Lcu_Ip_Cfg.o generate/src/Bctu_Ip_VS_0_PBcfg.o generate/src/Ram_Ip_VS_0_PBcfg.o generate/src/Uart_VS_0_PBcfg.o generate/src/Tspc_Port_Ip_VS_0_PBcfg.o generate/src/Emios_Icu_Ip_VS_0_PBcfg.o generate/src/Adc_Sar_Ip_VS_0_PBcfg.o generate/src/Icu_Cfg.o generate/src/Dma_Ip_VS_0_PBcfg.o generate/src/Icu_VS_0_PBcfg.o generate/src/Emios_Mcl_Ip_VS_0_PBcfg.o generate/src/Adc_Cfg.o generate/src/Ram_Ip_Cfg.o generate/src/Siul2_Port_Ip_VS_0_PBcfg.o generate/src/Adc_VS_0_PBcfg.o generate/src/Flexio_Mcl_Ip_VS_0_PBcfg.o generate/src/OsIf_Cfg.o generate/src/Trgmux_Ip_Cfg.o generate/src/Wkpu_Ip_VS_0_PBcfg.o generate/src/Cmp_Ip_VS_0_PBcfg.o generate/src/Clock_Ip_Cfg.o generate/src/Power_Ip_VS_0_PBcfg.o generate/src/Clock_Ip_VS_0_PBcfg.o generate/src/Mcu_Cfg.o generate/src/IntCtrl_Ip_Cfg.o generate/src/Mcu_VS_0_PBcfg.o generate/src/Dma_Ip_Cfg.o generate/src/Siul2_Icu_Ip_VS_0_PBcfg.o generate/src/Lpuart_Uart_Ip_VS_0_PBcfg.o generate/src/CDD_Mcl_Cfg.o generate/src/Lcu_Ip_VS_0_PBcfg.o generate/src/CDD_Mcl_VS_0_PBcfg.o generate/src/Port_VS_0_PBcfg.o generate/src/Uart_Ipw_VS_0_PBcfg.o generate/src/Platform_Ipw_Cfg.o ../../../..//Base_TS_T40D34M20I1R0/src/OsIf_Interrupts.o ../../../..//Base_TS_T40D34M20I1R0/src/OsIf_Timer_System.o ../../../..//Base_TS_T40D34M20I1R0/src/OsIf_Timer_System_Internal_Systick.o ../../../..//Base_TS_T40D34M20I1R0/src/OsIf_Timer.o ../../../..//Det_TS_T40D34M20I1R0/src/Det_stub.o ../../../..//Det_TS_T40D34M20I1R0/src/Det.o ../../../..//Platform_TS_T40D34M20I1R0/src/System_Ip.o ../../../..//Platform_TS_T40D34M20I1R0/src/IntCtrl_Ip.o ../../../..//Platform_TS_T40D34M20I1R0/src/Platform_Ipw.o ../../../..//Platform_TS_T40D34M20I1R0/src/Platform.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_Selector.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_Data.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Power_Ip.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_ExtOsc.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Mcu.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_Irq.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Mcu_Dem_Wrapper.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_Frequency.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Power_Ip_DCM_GPR.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_Gate.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Ram_Ip.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_Specific.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Mcu_Ipw.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_FracDiv.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_DividerTrigger.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_IntOsc.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Power_Ip_CortexM7.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Power_Ip_PMC.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_Monitor.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_Divider.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Power_Ip_Private.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Power_Ip_MC_ME.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Power_Ip_FLASH.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_ProgFreqSwitch.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_Pll.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Power_Ip_MC_RGM.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Power_Ip_MC_RGM_Irq.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Power_Ip_PMC_Irq.o ../../../..//Uart_TS_T40D34M20I1R0/src/Uart.o ../../../..//Uart_TS_T40D34M20I1R0/src/Lpuart_Uart_Ip.o ../../../..//Uart_TS_T40D34M20I1R0/src/Lpuart_Uart_Ip_Irq.o ../../../..//Uart_TS_T40D34M20I1R0/src/Flexio_Uart_Ip.o ../../../..//Uart_TS_T40D34M20I1R0/src/Flexio_Uart_Ip_Irq.o ../../../..//Uart_TS_T40D34M20I1R0/src/Uart_Ipw.o ../../../..//Os_TS_T40D34M20I1R0/src/Os_counter_api.o ../../../..//Os_TS_T40D34M20I1R0/src/Os_multicore.o ../../../..//Port_TS_T40D34M20I1R0/src/Tspc_Port_Ip.o ../../../..//Port_TS_T40D34M20I1R0/src/Siul2_Port_Ip.o ../../../..//Port_TS_T40D34M20I1R0/src/Port.o ../../../..//Port_TS_T40D34M20I1R0/src/Port_Ipw.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Fee.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Eth.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Icu.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Uart.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Fls.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_I2c.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_I2s.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Crc.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Sent.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Port.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_EthTrcv_43_PHY.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Gpt.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Mcu.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Spi.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_EthSwt_43_SJA11XX.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Ocu.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Rm.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Pwm.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Mcl.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Wdg.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Adc.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Wdg_43_fs26.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Dio.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Iseled.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Crypto.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Can.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Lin.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_I3c.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Sbc_fs26.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Can_43_FLEXCAN.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Emios_Mcl_Ip_Irq.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Flexio_Mcl_Ip.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Lcu_Ip_Multicore.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Flexio_Mcl_Ip_Irq.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Dma_Ip_Driver_State.o ../../../..//Mcl_TS_T40D34M20I1R0/src/CDD_Mcl.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Flexio_Mcl_Ip_HwAccess.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Dma_Ip_Hw_Access.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Trgmux_Ip.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Dma_Ip_Multicore.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Lcu_Ip_Hw_Access.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Lcu_Ip.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Lcu_Ip_Irq.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Trgmux_Ip_HwAcc.o ../../../..//Mcl_TS_T40D34M20I1R0/src/CDD_Mcl_Ipw.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Dma_Ip.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Emios_Mcl_Ip.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Dma_Ip_Irq.o ../../../..//Dio_TS_T40D34M20I1R0/src/Dio_Ipw.o ../../../..//Dio_TS_T40D34M20I1R0/src/Dio.o ../../../..//Dio_TS_T40D34M20I1R0/src/Siul2_Dio_Ip.o ../../../..//Icu_TS_T40D34M20I1R0/src/Wkpu_Ip.o ../../../..//Icu_TS_T40D34M20I1R0/src/Icu_Ipw.o ../../../..//Icu_TS_T40D34M20I1R0/src/Cmp_Ip.o ../../../..//Icu_TS_T40D34M20I1R0/src/Wkpu_Ip_Irq.o ../../../..//Icu_TS_T40D34M20I1R0/src/Siul2_Icu_Ip.o ../../../..//Icu_TS_T40D34M20I1R0/src/Siul2_Icu_Ip_Irq.o ../../../..//Icu_TS_T40D34M20I1R0/src/Emios_Icu_Ip.o ../../../..//Icu_TS_T40D34M20I1R0/src/Emios_Icu_Ip_Irq.o ../../../..//Icu_TS_T40D34M20I1R0/src/Icu.o ../../../..//Adc_TS_T40D34M20I1R0/src/Adc.o ../../../..//Adc_TS_T40D34M20I1R0/src/Adc_Ipw.o ../../../..//Adc_TS_T40D34M20I1R0/src/Adc_Ipw_Irq.o ../../../..//Adc_TS_T40D34M20I1R0/src/Bctu_Ip.o ../../../..//Adc_TS_T40D34M20I1R0/src/Bctu_Ip_Irq.o ../../../..//Adc_TS_T40D34M20I1R0/src/Adc_Sar_Ip.o ../../../..//Adc_TS_T40D34M20I1R0/src/Adc_Sar_Ip_Irq.o ../../../..//Platform_TS_T40D34M20I1R0/startup/src/nvic.o ../../../..//Platform_TS_T40D34M20I1R0/startup/src/sys_init.o ../../../..//Platform_TS_T40D34M20I1R0/startup/src/system.o ../../../..//Platform_TS_T40D34M20I1R0/startup/src/m7/startup.o ../../../..//Platform_TS_T40D34M20I1R0/startup/src/m7/exceptions.o ../../../..//Platform_TS_T40D34M20I1R0/startup/src/m7/gcc/startup_cm7.o ../../../..//Platform_TS_T40D34M20I1R0/startup/src/m7/gcc/Vector_Table.o  -o out/main.elf
d:/installedsoftware/mcu/nxp/s32ds.3.5/s32ds/build_tools/gcc_v10.2/gcc-10.2-arm32-eabi/bin/../lib/gcc/arm-none-eabi/10.2.0/../../../../arm-none-eabi/bin/real-ld.exe: cannot find ../../.: Permission denied
collect2.exe: error: ld returned 1 exit status
mingw32-make: *** [Makefile:280: out/main.elf] Error 1
```
发现编译elf的命令是正常的，并没有`../../.`中途截断的文件名,导致编译中断.

## 问题原因
这个问题我排查了很久,在一次自己运行如下指令的时候,发现了异常
```
D:/InstalledSoftware/MCU/NXP/S32DS.3.5/S32DS/build_tools/gcc_v10.2/gcc-10.2-arm32-eabi/bin/arm-none-eabi-gcc.exe -Wl,-Map,"out/main.map" --entry=Reset_Handler --sysroot="D:/InstalledSoftware/MCU/NXP/S32DS.3.5/S32DS/build_tools/gcc_v10.2/gcc-10.2-arm32-eabi/arm-none-eabi/lib"  -specs=nano.specs  -specs=nosys.specs -nostartfiles -mcpu=cortex-m7 -mthumb -mfpu=fpv5-sp-d16 -mfloat-abi=hard -ggdb3 -mlittle-endian -lc -lm -lgcc -T ../../../..//Platform_TS_T40D34M20I1R0/build_files/gcc/linker_flash_s32k312.ld src/main.o generate/src/Icu_Ipw_VS_0_PBcfg.o generate/src/Trgmux_Ip_VS_0_PBcfg.o generate/src/Flexio_Uart_Ip_VS_0_PBcfg.o generate/src/Adc_Ipw_VS_0_PBcfg.o generate/src/Dio_Cfg.o generate/src/Platform_Cfg.o generate/src/Port_Cfg.o generate/src/Power_Ip_Cfg.o generate/src/Icu_DmaNotification.o generate/src/Lcu_Ip_Cfg.o generate/src/Bctu_Ip_VS_0_PBcfg.o generate/src/Ram_Ip_VS_0_PBcfg.o generate/src/Uart_VS_0_PBcfg.o generate/src/Tspc_Port_Ip_VS_0_PBcfg.o generate/src/Emios_Icu_Ip_VS_0_PBcfg.o generate/src/Adc_Sar_Ip_VS_0_PBcfg.o generate/src/Icu_Cfg.o generate/src/Dma_Ip_VS_0_PBcfg.o generate/src/Icu_VS_0_PBcfg.o generate/src/Emios_Mcl_Ip_VS_0_PBcfg.o generate/src/Adc_Cfg.o generate/src/Ram_Ip_Cfg.o generate/src/Siul2_Port_Ip_VS_0_PBcfg.o generate/src/Adc_VS_0_PBcfg.o generate/src/Flexio_Mcl_Ip_VS_0_PBcfg.o generate/src/OsIf_Cfg.o generate/src/Trgmux_Ip_Cfg.o generate/src/Wkpu_Ip_VS_0_PBcfg.o generate/src/Cmp_Ip_VS_0_PBcfg.o generate/src/Clock_Ip_Cfg.o generate/src/Power_Ip_VS_0_PBcfg.o generate/src/Clock_Ip_VS_0_PBcfg.o generate/src/Mcu_Cfg.o generate/src/IntCtrl_Ip_Cfg.o generate/src/Mcu_VS_0_PBcfg.o generate/src/Dma_Ip_Cfg.o generate/src/Siul2_Icu_Ip_VS_0_PBcfg.o generate/src/Lpuart_Uart_Ip_VS_0_PBcfg.o generate/src/CDD_Mcl_Cfg.o generate/src/Lcu_Ip_VS_0_PBcfg.o generate/src/CDD_Mcl_VS_0_PBcfg.o generate/src/Port_VS_0_PBcfg.o generate/src/Uart_Ipw_VS_0_PBcfg.o generate/src/Platform_Ipw_Cfg.o ../../../..//Base_TS_T40D34M20I1R0/src/OsIf_Interrupts.o ../../../..//Base_TS_T40D34M20I1R0/src/OsIf_Timer_System.o ../../../..//Base_TS_T40D34M20I1R0/src/OsIf_Timer_System_Internal_Systick.o ../../../..//Base_TS_T40D34M20I1R0/src/OsIf_Timer.o ../../../..//Det_TS_T40D34M20I1R0/src/Det_stub.o ../../../..//Det_TS_T40D34M20I1R0/src/Det.o ../../../..//Platform_TS_T40D34M20I1R0/src/System_Ip.o ../../../..//Platform_TS_T40D34M20I1R0/src/IntCtrl_Ip.o ../../../..//Platform_TS_T40D34M20I1R0/src/Platform_Ipw.o ../../../..//Platform_TS_T40D34M20I1R0/src/Platform.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_Selector.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_Data.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Power_Ip.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_ExtOsc.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Mcu.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_Irq.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Mcu_Dem_Wrapper.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_Frequency.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Power_Ip_DCM_GPR.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_Gate.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Ram_Ip.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_Specific.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Mcu_Ipw.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_FracDiv.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_DividerTrigger.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_IntOsc.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Power_Ip_CortexM7.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Power_Ip_PMC.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_Monitor.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_Divider.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Power_Ip_Private.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Power_Ip_MC_ME.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Power_Ip_FLASH.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_ProgFreqSwitch.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Clock_Ip_Pll.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Power_Ip_MC_RGM.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Power_Ip_MC_RGM_Irq.o ../../../..//Mcu_TS_T40D34M20I1R0/src/Power_Ip_PMC_Irq.o ../../../..//Uart_TS_T40D34M20I1R0/src/Uart.o ../../../..//Uart_TS_T40D34M20I1R0/src/Lpuart_Uart_Ip.o ../../../..//Uart_TS_T40D34M20I1R0/src/Lpuart_Uart_Ip_Irq.o ../../../..//Uart_TS_T40D34M20I1R0/src/Flexio_Uart_Ip.o ../../../..//Uart_TS_T40D34M20I1R0/src/Flexio_Uart_Ip_Irq.o ../../../..//Uart_TS_T40D34M20I1R0/src/Uart_Ipw.o ../../../..//Os_TS_T40D34M20I1R0/src/Os_counter_api.o ../../../..//Os_TS_T40D34M20I1R0/src/Os_multicore.o ../../../..//Port_TS_T40D34M20I1R0/src/Tspc_Port_Ip.o ../../../..//Port_TS_T40D34M20I1R0/src/Siul2_Port_Ip.o ../../../..//Port_TS_T40D34M20I1R0/src/Port.o ../../../..//Port_TS_T40D34M20I1R0/src/Port_Ipw.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Fee.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Eth.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Icu.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Uart.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Fls.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_I2c.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_I2s.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Crc.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Sent.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Port.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_EthTrcv_43_PHY.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Gpt.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Mcu.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Spi.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_EthSwt_43_SJA11XX.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Ocu.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Rm.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Pwm.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Mcl.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Wdg.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Adc.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Wdg_43_fs26.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Dio.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Iseled.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Crypto.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Can.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Lin.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_I3c.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Sbc_fs26.o ../../../..//Rte_TS_T40D34M20I1R0/src/SchM_Can_43_FLEXCAN.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Emios_Mcl_Ip_Irq.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Flexio_Mcl_Ip.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Lcu_Ip_Multicore.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Flexio_Mcl_Ip_Irq.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Dma_Ip_Driver_State.o ../../../..//Mcl_TS_T40D34M20I1R0/src/CDD_Mcl.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Flexio_Mcl_Ip_HwAccess.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Dma_Ip_Hw_Access.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Trgmux_Ip.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Dma_Ip_Multicore.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Lcu_Ip_Hw_Access.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Lcu_Ip.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Lcu_Ip_Irq.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Trgmux_Ip_HwAcc.o ../../../..//Mcl_TS_T40D34M20I1R0/src/CDD_Mcl_Ipw.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Dma_Ip.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Emios_Mcl_Ip.o ../../../..//Mcl_TS_T40D34M20I1R0/src/Dma_Ip_Irq.o ../../../..//Dio_TS_T40D34M20I1R0/src/Dio_Ipw.o ../../../..//Dio_TS_T40D34M20I1R0/src/Dio.o ../../../..//Dio_TS_T40D34M20I1R0/src/Siul2_Dio_Ip.o ../../../..//Icu_TS_T40D34M20I1R0/src/Wkpu_Ip.o ../../../..//Icu_TS_T40D34M20I1R0/src/Icu_Ipw.o ../../../..//Icu_TS_T40D34M20I1R0/src/Cmp_Ip.o ../../../..//Icu_TS_T40D34M20I1R0/src/Wkpu_Ip_Irq.o ../../../..//Icu_TS_T40D34M20I1R0/src/Siul2_Icu_Ip.o ../../../..//Icu_TS_T40D34M20I1R0/src/Siul2_Icu_Ip_Irq.o ../../../..//Icu_TS_T40D34M20I1R0/src/Emios_Icu_Ip.o ../../../..//Icu_TS_T40D34M20I1R0/src/Emios_Icu_Ip_Irq.o ../../../..//Icu_TS_T40D34M20I1R0/src/Icu.o ../../../..//Adc_TS_T40D34M20I1R0/src/Adc.o ../../../..//Adc_TS_T40D34M20I1R0/src/Adc_Ipw.o ../../../..//Adc_TS_T40D34M20I1R0/src/Adc_Ipw_Irq.o ../../../..//Adc_TS_T40D34M20I1R0/src/Bctu_Ip.o ../../../..//Adc_TS_T40D34M20I1R0/src/Bctu_Ip_Irq.o ../../../..//Adc_TS_T40D34M20I1R0/src/Adc_Sar_Ip.o ../../../..//Adc_TS_T40D34M20I1R0/src/Adc_Sar_Ip_Irq.o ../../../..//Platform_TS_T40D34M20I1R0/startup/src/nvic.o ../../../..//Platform_TS_T40D34M20I1R0/startup/src/sys_init.o ../../../..//Platform_TS_T40D34M20I1R0/startup/src/system.o ../../../..//Platform_TS_T40D34M20I1R0/startup/src/m7/startup.o ../../../..//Platform_TS_T40D34M20I1R0/startup/src/m7/exceptions.o ../../../..//Platform_TS_T40D34M20I1R0/startup/src/m7/gcc/startup_cm7.o ../../../..//Platform_TS_T40D34M20I1R0/startup/src/m7/gcc/Vector_Table.o  -o out/main.elf
```
命令行异常输出如下:
```
哎呀，出现问题。请在报告此 Bug 时添加以下详细信息。
在 GitHub 上报告: https://github.com/lzybkr/PSReadLine/issues/new
-----------------------------------------------------------------------
上 200 个密钥:
 T S _ T 4 0 D 3 4 M 2 0 I 1 R 0 / s t a r t u p / s r c / m 7 / e x c e p t i o n s . o Space . . / . . / . . / . . f o r m _ T S _ T 4 0 D 3 4 
M 2 0 I 1 R 0 / s t a r t u p / s r c / m 7 / g c c / s t a r t u p _ c m 7 . o Space . . / . . / . . / . . / / P l a t f o r m _ T S _ T 4 0 D 3 4 M 2 0 I 1 R 0 / s t a r t u p / s r c / m 7 / g c c / V e c t o r _ T a b l e . o Space Space - o Space o u t / m a i n . e l f

异常:
System.ArgumentOutOfRangeException: 该值必须大于或等于零，且必须小于控制台缓冲区在该维度的大小。
参数名: top
实际值是 -37。
   在 System.Console.SetCursorPosition(Int32 left, Int32 top)
   在 Microsoft.PowerShell.PSConsoleReadLine.ReallyRender(RenderData renderData, String defaultColor)
   在 Microsoft.PowerShell.PSConsoleReadLine.ForceRender()
   在 Microsoft.PowerShell.PSConsoleReadLine.Insert(Char c)
   在 Microsoft.PowerShell.PSConsoleReadLine.SelfInsert(Nullable`1 key, Object arg)
   在 Microsoft.PowerShell.PSConsoleReadLine.ProcessOneKey(ConsoleKeyInfo key, Dictionary`2 dispatchTable, Boolean ignoreIfNoAction, Object arg) 
   在 Microsoft.PowerShell.PSConsoleReadLine.InputLoop()
   在 Microsoft.PowerShell.PSConsoleReadLine.ReadLine(Runspace runspace, EngineIntrinsics engineIntrinsics)
-----------------------------------------------------------------------
```

搜索对应的问题关键字,发现了问题的真正原因:
[命令提示符 (cmd. exe) 命令行字符串限制](https://learn.microsoft.com/zh-cn/troubleshoot/windows-client/shell-experience/command-line-string-limitation)

其中说到:
- 在命令提示符中，以下命令行的总长度不能超过 8191 个字符
- 在命令提示符中，展开EnvironmentVariable2EnvironmentVariable3后的总长度EnvironmentVariable1不能超过 8191 个字符
- 即使环境变量的 Win32 限制为 32767 个字符，命令提示符会忽略从父进程继承的任何环境变量，并且其自身限制为 8191 个字符 (适合操作系统) 。 有关该函数的 SetEnvironmentVariable 详细信息，请参阅[SetEnvironmentVariableA 函数](https://learn.microsoft.com/zh-cn/windows/win32/api/processenv/nf-processenv-setenvironmentvariablea)

解读细节:
windows 环境支持的环境变量长度最长是32767字符,这个是系统存储的环境变量的最大值,但是!但是!系统从命令行中读取环境变量时,最多只能读取8191个字符,超过这个字符数目的会被截断.

增加了Adc模块之后,构建elf的命令行长度是8309个字符,超过了系统8191的最大限制,因此,编译的命令行被截断,系统会提示`cannot find ../../.: Permission denied`,估计就是截断到这个位置，导致编译异常。

这是一个很冷门的技术细节！

## 解决方案

1. **想辦法將 PATH 環境變數縮短**
   
2. **修改需要长命令行的程序，以便它们使用包含参数信息的文件，然后在命令行中包含文件的名称**\
   查看上面的输出,可以发现,标准输出打印环境变量是没有8191字符限制的,可以将32767以内的字符长度的环境变量打印出来,将命令行的输入存储到文件中`c:\temp\ParameterFile.txt`. 将命令行的输入存储到文件中，通过`ExecutableFile.exe c:\temp\ParameterFile.txt`的方式执行长命令.

   >gcc 命令参数从文件中读取这个功能如何实现？
   >gcc 编译大型项目的时候，采取分模块合并.o文件，来避免这个问题？

